<dom-module id="x-contact-item">
    <template>
        <link rel="stylesheet" href="x-contact-item.css">

        <iron-ajax id="deleteContactReq"
                   method="DELETE"
                   body = ""
                   content-type = "application/json"
                   handle-as="json"
                   on-response="handleResponse"
                   with-credentials="true">
        </iron-ajax>

        <div class="item-container">
            <div class="status_container">
                <img src$="/profile/{{contact.avatar}}" alt$="{{contact.email}} profile image">
                <div id="status" style$="background-color: [[bgColor]]"></div>
            </div>
            <div>
                <span class="name primary-text">{{contact.name}}</span><br>
                <div class="additional-info secondary-text" >
                    <iron-icon icon="communication:email"></iron-icon>
                    <span>{{contact.email}}</span>
                    <br/>
                    <template is="dom-if" if="{{contact.phone}}">
                        <iron-icon icon="communication:contact-phone"></iron-icon>
                        <span>{{contact.phone}}</span>
                    </template>
                </div>
            </div>
            <div class="controls">
                <paper-fab on-click="openChat" icon="communication:chat" class="accent-color"></paper-fab>
                <paper-fab on-click="deleteContact" icon="delete" class="accent-color"></paper-fab>
            </div>
        </div>
    </template>

    <script src="x-contact-item.js"></script>

</dom-module>